<% if @requires != nil -%>
  <%- _requires = @requires -%>
<% elsif @allow_from != nil and ! @allow_from.empty? -%>
  <%- scope.function_warning(["Class #{@title}: Using Allow"]) -%>
  <%- scope.function_warning(["is deprecated in Apache #{@_apache_version}"]) -%>
  <%- _requires = 'ip ' + Array(@allow_from).join(" ") -%>
<% else -%>
  <%- _requires = @requires_defaults -%>
<% end -%>
<%-# -%>
<% if _requires.is_a?(String) -%>
  <%- if ! ['', 'unmanaged'].include?_requires.downcase -%>
    Require <%= _requires %>
  <%- end -%>
<% elsif _requires.is_a?(Array) -%>
  <%- _requires.each do |req| -%>
    Require <%= req %>
  <%- end -%>
<% end -%>
